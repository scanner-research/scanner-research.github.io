
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />

<title>Building Scanner from source - Scanner</title>


    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Walkthroughs" href="walkthrough.html" />
    <link rel="prev" title="Installation" href="getting-started.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
<link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-133298183-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-133298183-1');
</script>


  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="walkthrough.html" title="Walkthroughs"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="getting-started.html" title="Installation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Scanner 0.2.22 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="getting-started.html" accesskey="U">Installation</a> &#187;</li> 
      </ul>
    </div>
<div class="container">
  <div id="navbar" class="navbar-default">
    <div class="row">
      <div class="col-md-4 col-sm-12">
        <a class="navbar-brand" href="../index.html"><span><img src="../_static/scanner_logo.png"></span>
        </a>
      </div>
      <div class="col-md-4 offset-md-4 col-sm-12">
        <div class="btn-group">
          <a href="../guide.html"><button type="button" class="btn btn-light">Guide</button></a>
          <a href="../api.html"><button type="button" class="btn btn-light">API</button></a>
          <a href="https://github.com/scanner-research/scanner"><button type="button" class="btn btn-light">Github</button></a>
          <a href="../publications.html"><button type="button" class="btn btn-light">Publications</button></a>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3">
      <div class="bs-sidenav">
        <div class="bs-sidenav-inner"><div class="guidetoc-container">
  <div class="guidetoc"
       role="navigation">
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="getting-started.html">Installation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#docker">Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#homebrew">Homebrew</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="getting-started.html#from-source">From Source</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="walkthrough.html">Walkthroughs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="walkthrough.html#converting-a-video-to-grayscale">Converting a video to grayscale</a></li>
<li class="toctree-l2"><a class="reference internal" href="walkthrough.html#walking-through-a-more-advanced-jupyter-based-app">Walking through a more advanced Jupyter-based app</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="graphs.html">Computation Graphs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="graphs.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="graphs.html#multiple-inputs-and-outputs">Multiple inputs and outputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="graphs.html#batch-processing-of-stored-streams">Batch processing of stored streams</a></li>
<li class="toctree-l2"><a class="reference internal" href="graphs.html#stream-operations">Stream Operations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ops.html">Operations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ops.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="ops.html#defining-an-operation-in-python">Defining an Operation in Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="ops.html#declaring-parameters">Declaring Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="ops.html#fetching-resources">Fetching Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="ops.html#operation-properties">Operation Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="ops.html#defining-an-operation-in-c">Defining an Operation in C++</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="stored-streams.html">Stored Streams</a><ul>
<li class="toctree-l2"><a class="reference internal" href="stored-streams.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="stored-streams.html#storage-backends">Storage Backends</a></li>
<li class="toctree-l2"><a class="reference internal" href="stored-streams.html#i-o-operations">I/O Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="stored-streams.html#reading-data-locally">Reading Data Locally</a></li>
<li class="toctree-l2"><a class="reference internal" href="stored-streams.html#deleting-stored-streams">Deleting Stored Streams</a></li>
<li class="toctree-l2"><a class="reference internal" href="stored-streams.html#inplace-video-indexing">Inplace video indexing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="profiling.html">Performance Profiling</a><ul>
<li class="toctree-l2"><a class="reference internal" href="profiling.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="profiling.html#trace-visualization">Trace Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="profiling.html#scanner-s-execution-model">Scanner’s Execution Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="profiling.html#tunable-parameters">Tunable Parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="kubernetes.html">Kubernetes Integration</a></li>
</ul>

  </div>
</div>
        </div>
      </div>
    </div>
    <div class="col-md-9">
      <div class="content">
        
  <div class="section" id="building-scanner-from-source">
<span id="from-source"></span><h1>Building Scanner from source<a class="headerlink" href="#building-scanner-from-source" title="Permalink to this headline">¶</a></h1>
<p>Building Scanner from source is a three step process:</p>
<ol class="arabic simple">
<li><p>Install system-wide packages (e.g. via apt-get or homebrew)</p></li>
<li><p>Run our dependency script <cite>deps.sh</cite> to find or install dependencies not provided by common package managers.</p></li>
<li><p>Build and install the scanner python package using the <cite>build.sh</cite> script.</p></li>
</ol>
<div class="section" id="install-system-level-packages">
<h2>Install system-level packages<a class="headerlink" href="#install-system-level-packages" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ubuntu-16-04">
<h3>Ubuntu 16.04<a class="headerlink" href="#ubuntu-16-04" title="Permalink to this headline">¶</a></h3>
<p>Run the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>apt-get install <span class="se">\</span>
   build-essential <span class="se">\</span>
   cmake git libgtk2.0-dev pkg-config unzip llvm-5.0-dev clang-5.0 libc++-dev <span class="se">\</span>
   libgflags-dev libgtest-dev libssl-dev libcurl3-dev liblzma-dev <span class="se">\</span>
   libeigen3-dev libgoogle-glog-dev libatlas-base-dev libsuitesparse-dev <span class="se">\</span>
   libgflags-dev libx264-dev libopenjpeg-dev libxvidcore-dev <span class="se">\</span>
   libpng-dev libjpeg-dev libbz2-dev wget <span class="se">\</span>
   libleveldb-dev libsnappy-dev libhdf5-serial-dev liblmdb-dev python-dev <span class="se">\</span>
   python-tk autoconf autogen libtool libtbb-dev libopenblas-dev <span class="se">\</span>
   liblapacke-dev swig yasm python3.5 python3-pip cpio automake libass-dev <span class="se">\</span>
   libfreetype6-dev libsdl2-dev libtheora-dev libtool <span class="se">\</span>
   libva-dev libvdpau-dev libvorbis-dev libxcb1-dev libxcb-shm0-dev <span class="se">\</span>
   libxcb-xfixes0-dev mercurial texinfo zlib1g-dev curl libcap-dev <span class="se">\</span>
   libboost-all-dev libgnutls-dev libpq-dev postgresql
</pre></div>
</div>
</div>
<div class="section" id="macos">
<h3>macOS<a class="headerlink" href="#macos" title="Permalink to this headline">¶</a></h3>
<p>Install <a class="reference external" href="https://brew.sh/">homebrew</a> then run the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>brew install coreutils cmake git wget unzip pkg-config <span class="se">\</span>
             automake fdk-aac lame libass libtool libvorbis libvpx <span class="se">\</span>
             opus sdl shtool texi2html theora x264 x265 xvid nasm <span class="se">\</span>
             eigen glog libjpeg <span class="se">\</span>
             snappy leveldb gflags glog szip lmdb hdf5 boost boost-python3 <span class="se">\</span>
             llvm python gnutls postgresql libpq libpqxx opencv ffmpeg
</pre></div>
</div>
</div>
</div>
<div class="section" id="run-deps-sh">
<h2>Run deps.sh<a class="headerlink" href="#run-deps-sh" title="Permalink to this headline">¶</a></h2>
<p>Scanner provides a dependency script <code class="code docutils literal notranslate"><span class="pre">deps.sh</span></code> to automatically install any or all
of its major dependencies if they are not already installed. Each of these
dependencies has a set of required system-level packages.</p>
<p>Scanner requires the following major dependencies which are not commonly
available via system package managers on all platforms:</p>
<blockquote>
<div><ul class="simple">
<li><p>pybind &gt;= 2.2.2</p></li>
<li><p>opencv &gt;= 3.4.0</p></li>
<li><p>protobuf &gt;= 3.6.1</p></li>
<li><p>grpc == 1.16.0</p></li>
<li><p>storehouse</p></li>
</ul>
</div></blockquote>
<p>Scanner also has several optional dependencies which add additional functionality
to the system:</p>
<blockquote>
<div><ul class="simple">
<li><p>ffmpeg &gt;= 3.3.1</p></li>
<li><p>caffe &gt;= rc5 OR intel-caffe &gt;= 1.0.6</p></li>
<li><p>openpose (enables pose detection)</p></li>
<li><p>hwang (enables in-place processing of videos, instead of copying them)</p></li>
<li><p>halide (enables high-performance image processing operations)</p></li>
<li><p>libpqxx (enables reading and writing data to Postgress SQL databases)</p></li>
</ul>
</div></blockquote>
<p>Additionally, to compile with CUDA support, Scanner requires:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://developer.nvidia.com/cuda-downloads">CUDA</a> 8.0 or above</p></li>
<li><p><a class="reference external" href="https://developer.nvidia.com/cudnn">cuDNN</a> v6.x or above</p></li>
</ul>
</div></blockquote>
<p>To install or specify where your major dependencies are, from the top-level directory run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bash ./deps.sh
</pre></div>
</div>
<p>This script will query you for each major dependency and install those that are not already installed. By default, it will install the dependencies to a local directory inside the scanner repo (it will not install system-wide).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure to follow the directions after <code class="code docutils literal notranslate"><span class="pre">deps.sh</span></code> finishes that tell you to
add entries to your PATH, LD_LIBRARY_PATH, and PYTHONPATH</p>
</div>
</div>
<div class="section" id="build-scanner">
<h2>Build Scanner<a class="headerlink" href="#build-scanner" title="Permalink to this headline">¶</a></h2>
<p>Run the following commands from the top-level directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir build
<span class="nb">cd</span> build
cmake ..
make -j<span class="k">$(</span>nproc<span class="k">)</span>
</pre></div>
</div>
</div>
<div class="section" id="install-scannerpy-python-package">
<h2>Install scannerpy python package<a class="headerlink" href="#install-scannerpy-python-package" title="Permalink to this headline">¶</a></h2>
<p>Run the following command from the top-level directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bash ./build.sh
</pre></div>
</div>
<p>Congratulations! You’ve installed the scannerpy package. To learn how to start
using Scanner, check out <a class="reference internal" href="getting-started.html#getting-started"><span class="std std-ref">Installation</span></a>.</p>
</div>
</div>


      </div>
    </div>
  </div>
</div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="walkthrough.html" title="Walkthroughs"
             >next</a> |</li>
        <li class="right" >
          <a href="getting-started.html" title="Installation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Scanner 0.2.22 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="getting-started.html" >Installation</a> &#187;</li> 
      </ul>
    </div>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/python.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>